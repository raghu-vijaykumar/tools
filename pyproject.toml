[tool.uv.workspace]
members = ["common", "newsletter", "writer", "tts", "cli"]

[tool.uv.sources]
common = { workspace = true }
newsletter = { workspace = true }
writer = { workspace = true }
tts = { workspace = true }

[tool.uv]
dev-dependencies = ["pytest", "pytest-cov", "pytest-mock"]

[tool.pytest.ini_options]
testpaths = [
    "writer/tests",
    "newsletter/tests",
    "common/tests",
    "tts/tests",
    "tests",
]
python_files = ["test_*.py", "*_test.py"]
python_classes = ["Test*"]
python_functions = ["test_*"]
addopts = "--cov=writer --cov=newsletter --cov=common --cov=tts --cov=cli --cov-report=term-missing --cov-report=html --cov-fail-under=90"
